@model PlatformManagementConsole.Models.Session

<h4>Session</h4>
<hr />
<div class="row">
    <div class="col-md-12">
        <form asp-action="api/Session" asp-controller="Forms">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-group">
                <label class="control-label">Session Name</label>
                <input asp-for="session_name" class="form-control" name="SessionName" id="session-name" required/>
                <span asp-validation-for="session_name" class="text-danger"></span>
            </div>
            <div class="form-group">
                <input type="submit" value="Create" class="btn btn-primary" id="session-btn"/>
            </div>
        </form>
    </div>
</div>

<script>
    $("#session-btn").click((e) => {
        e.preventDefault();
        console.log($("#session-name").val())
        let data = {"SessionName": $("#session-name").val() }
        $.ajax({
            method: "POST",
            url: "/api/Forms/AddSession",
            contentType: "application/json; UTF8",
            data: JSON.stringify(data),
            success: (response) => {
                $("#session-name").val('');
            },
            error: (response) => {
                $("#session-name").empty();
                console.log(response);
            }

            
        })
    })
</script>

